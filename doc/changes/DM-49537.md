Improved the storage of sources and components using a registry. This nmakes it easier for end users to persist custom component types.